[server]
domain = "127.0.0.1"
port = 8080

[openrouter]
text_model = "mistralai/mistral-small-3.2-24b-instruct-2506:free"
image_model = "google/gemma-3-27b-it:free"
reasoning_model = "deepseek/deepseek-r1:free"
base_url = "https://openrouter.ai/api/v1"
max_completion_tokens = 13000
# api_key = "your-api-key-here"

[jwt]
token_expiry = 2592000                         # 30 days
refresh_threshold = 2591700                    # -5 minutes
# secret_key = "your-secret-key-here"

[prompts]
extract_words_from_text = """Ты эксперт по японскому языку. Извлеки все японские слова из следующего текста и предоставь точные переводы с определением части речи.

ВАЖНЫЕ ПРАВИЛА:
1. Извлекай ТОЛЬКО японские слова (хирагана, катакана, кандзи или смешанные)
2. Предоставляй точные русские переводы
3. Определи часть речи для каждого слова
4. Игнорируй знаки препинания, числа и не-японский текст
5. Каждое слово должно извлекаться отдельно (не объединяй фразы)
6. Включай частицы (は, が, を, に и т.д.) как отдельные слова, если они встречаются отдельно
7. Для указательных местоимений (これ, それ, あれ и т.д.) предоставляй конкретные переводы
8. Пропускай дубликаты - если одно и то же слово встречается несколько раз, включи его только один раз
9. ВСЕ глаголы добавляй в оба варианта: в исходной форме (как в тексте пользователя) и в нормальной форме (辞書形) — например: 食べます и 食べる, 行きます и 行く, 見ます и 見る
10. Прилагательные на な (な形容詞) указывай с частицей な в нормальной форме — например: 静かです → 静かな, きれいです → きれいな
11. Сохраняй устойчивые выражения (идиомы, фразеологизмы) как отдельные единицы, если они встречаются в тексте
12. В поле "translation" всегда должен быть только корректный перевод на русском языке. Не допускается указывать японское слово, его чтение (фуригана, ромадзи) или кандзи в качестве перевода. Если перевод неизвестен — не включай это слово в результат.

ЧАСТИ РЕЧИ (используй точно эти значения):
- Meishi: существительное (名詞) - предметы, люди, места
- Koyuumeishi: имя собственное (固有名詞) - имена людей, мест, организаций
- Daimeishi: местоимение (代名詞) - заменяет существительные
- Doushi: глагол (動詞) - действия или состояния
- Keiyoushi: прилагательное (形容詞) - описывает свойства, спрягается
- Keiyoudoushi: наречное прилагательное (形容動詞) - описывает свойства, требует な
- Fukushi: наречие (副詞) - модифицирует глаголы, прилагательные
- Rentaishi: преноминальный модификатор (連体詞) - модифицирует существительные
- Setsuzokushi: союз (接続詞) - связывает слова или предложения
- Joshi: частица (助詞) - грамматический маркер
- Jodoushi: вспомогательный глагол (助動詞) - выражает грамматические категории
- Kandoushi: междометие (感動詞) - выражает эмоции
- Suushi: числительное/счетное слово (数詞) - числа и счетчики
- Settoushi: префикс (接頭詞) - приставка к словам
- Setsubiji: суффикс (接尾詞) - окончание слов
- Kanyogo: устойчивое выражение (慣用語) - часто используемое сочетание слов
- Gitaigo: звукоподражание (擬態語) - имитация звуков и состояний
- Other: другое - для редких или неопределенных случаев

Возвращай ТОЛЬКО валидный JSON в точно таком формате:
{{"words": [{{"word": "japanese_word", "translation": "russian_translation", "part_of_speech": "PartOfSpeech"}}]}}

ВАЖНО: Проверь, что твой JSON полностью валиден, иначе не возвращай ничего. Не используй вложенные кавычки и не пропускай закрывающие скобки.

Текст для анализа:
{text}"""

extract_words_from_image = """Ты эксперт по японскому языку. Извлеки все японские слова из этого изображения и предоставь точные переводы с определением части речи.

ВАЖНЫЕ ПРАВИЛА:
1. Извлекай ТОЛЬКО японские слова (хирагана, катакана, кандзи или смешанные)
2. Предоставляй точные русские переводы
3. Определи часть речи для каждого слова
4. Игнорируй знаки препинания, числа и не-японский текст
5. Каждое слово должно извлекаться отдельно (не объединяй фразы)
6. Включай частицы (は, が, を, に и т.д.) как отдельные слова, если они встречаются отдельно
7. Для указательных местоимений (これ, それ, あれ и т.д.) предоставляй конкретные переводы
8. Пропускай дубликаты - если одно и то же слово встречается несколько раз, включи его только один раз
9. ВСЕ глаголы добавляй в оба варианта: в исходной форме (как в тексте пользователя) и в нормальной форме (辞書形) — например: 食べます и 食べる, 行きます и 行く, 見ます и 見る
10. Прилагательные на な (な形容詞) указывай с частицей な в нормальной форме — например: 静かです → 静かな, きれいです → きれいな
11. Сохраняй устойчивые выражения (идиомы, фразеологизмы) как отдельные единицы, если они встречаются в тексте
12. В поле "translation" всегда должен быть только корректный перевод на русском языке. Не допускается указывать японское слово, его чтение (фуригана, ромадзи) или кандзи в качестве перевода. Если перевод неизвестен — не включай это слово в результат.

ЧАСТИ РЕЧИ (используй точно эти значения):
- Meishi: существительное (名詞) - предметы, люди, места
- Koyuumeishi: имя собственное (固有名詞) - имена людей, мест, организаций
- Daimeishi: местоимение (代名詞) - заменяет существительные
- Doushi: глагол (動詞) - действия или состояния
- Keiyoushi: прилагательное (形容詞) - описывает свойства, спрягается
- Keiyoudoushi: наречное прилагательное (形容動詞) - описывает свойства, требует な
- Fukushi: наречие (副詞) - модифицирует глаголы, прилагательные
- Rentaishi: преноминальный модификатор (連体詞) - модифицирует существительные
- Setsuzokushi: союз (接続詞) - связывает слова или предложения
- Joshi: частица (助詞) - грамматический маркер
- Jodoushi: вспомогательный глагол (助動詞) - выражает грамматические категории
- Kandoushi: междометие (感動詞) - выражает эмоции
- Suushi: числительное/счетное слово (数詞) - числа и счетчики
- Settoushi: префикс (接頭詞) - приставка к словам
- Setsubiji: суффикс (接尾詞) - окончание слов
- Kanyogo: устойчивое выражение (慣用語) - часто используемое сочетание слов
- Gitaigo: звукоподражание (擬態語) - имитация звуков и состояний
- Other: другое - для редких или неопределенных случаев

Возвращай ТОЛЬКО валидный JSON в точно таком формате:
{"words": [{"word": "japanese_word", "translation": "russian_translation", "part_of_speech": "PartOfSpeech"}]}

ВАЖНО: Проверь, что твой JSON полностью валиден, иначе не возвращай ничего. Не используй вложенные кавычки и не пропускай закрывающие скобки.

Проанализируй изображение и извлеки все японские слова"""

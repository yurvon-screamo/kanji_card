"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{3682:(e,t,r)=>{r.d(t,{uR:()=>U,Zc:()=>H,Ds:()=>p,OM:()=>f});class a extends Error{constructor(e,t,r){super(r),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}}var s=r(4971),n=r(5920),i=r(6266);class o extends Error{get isCancelled(){return!0}constructor(e){super(e),this.name="CancelError"}}var d=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,g=new WeakMap,b=new WeakMap;let y=Symbol.toStringTag;class v{get[y](){return"Cancellable Promise"}then(e,t){return(0,s._)(this,h).then(e,t)}catch(e){return(0,s._)(this,h).catch(e)}finally(e){return(0,s._)(this,h).finally(e)}cancel(){if(!((0,s._)(this,d)||(0,s._)(this,l)||(0,s._)(this,c))){if((0,i._)(this,c,!0),(0,s._)(this,u).length)try{for(let e of(0,s._)(this,u))e()}catch(e){console.warn("Cancellation threw an error",e);return}(0,s._)(this,u).length=0,(0,s._)(this,b)&&(0,s._)(this,b).call(this,new o("Request aborted"))}}get isCancelled(){return(0,s._)(this,c)}constructor(e){(0,n._)(this,d,{writable:!0,value:void 0}),(0,n._)(this,l,{writable:!0,value:void 0}),(0,n._)(this,c,{writable:!0,value:void 0}),(0,n._)(this,u,{writable:!0,value:void 0}),(0,n._)(this,h,{writable:!0,value:void 0}),(0,n._)(this,g,{writable:!0,value:void 0}),(0,n._)(this,b,{writable:!0,value:void 0}),(0,i._)(this,d,!1),(0,i._)(this,l,!1),(0,i._)(this,c,!1),(0,i._)(this,u,[]),(0,i._)(this,h,new Promise((t,r)=>{(0,i._)(this,g,t),(0,i._)(this,b,r);let a=e=>{!((0,s._)(this,d)||(0,s._)(this,l)||(0,s._)(this,c))&&(0,s._)(this,u).push(e)};return Object.defineProperty(a,"isResolved",{get:()=>(0,s._)(this,d)}),Object.defineProperty(a,"isRejected",{get:()=>(0,s._)(this,l)}),Object.defineProperty(a,"isCancelled",{get:()=>(0,s._)(this,c)}),e(e=>{!((0,s._)(this,d)||(0,s._)(this,l)||(0,s._)(this,c))&&((0,i._)(this,d,!0),(0,s._)(this,g)&&(0,s._)(this,g).call(this,e))},e=>{!((0,s._)(this,d)||(0,s._)(this,l)||(0,s._)(this,c))&&((0,i._)(this,l,!0),(0,s._)(this,b)&&(0,s._)(this,b).call(this,e))},a)}))}}let p={BASE:"",VERSION:"1",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};var f=function(e){return e.TOBE="Tobe",e.CURRENT="Current",e}({}),x=r(3464),k=r(1380),m=r.n(k),T=r(9641).Buffer;let w=e=>null!=e,_=e=>"string"==typeof e,E=e=>_(e)&&""!==e,S=e=>"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),R=e=>e instanceof m(),A=e=>e>=200&&e<300,C=e=>{try{return btoa(e)}catch(t){return T.from(e).toString("base64")}},I=e=>{let t=[],r=(e,r)=>{t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(r))))},a=(e,t)=>{w(t)&&(Array.isArray(t)?t.forEach(t=>{a(e,t)}):"object"==typeof t?Object.entries(t).forEach(t=>{let[r,s]=t;a("".concat(e,"[").concat(r,"]"),s)}):r(e,t))};return(Object.entries(e).forEach(e=>{let[t,r]=e;a(t,r)}),t.length>0)?"?".concat(t.join("&")):""},q=(e,t)=>{let r=e.ENCODE_PATH||encodeURI,a=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(e,a)=>{var s;return(null===(s=t.path)||void 0===s?void 0:s.hasOwnProperty(a))?r(String(t.path[a])):e}),s="".concat(e.BASE).concat(a);return t.query?"".concat(s).concat(I(t.query)):s},O=e=>{if(e.formData){let t=new(m()),r=(e,r)=>{_(r)||S(r)?t.append(e,r):t.append(e,JSON.stringify(r))};return Object.entries(e.formData).filter(e=>{let[t,r]=e;return w(r)}).forEach(e=>{let[t,a]=e;Array.isArray(a)?a.forEach(e=>r(t,e)):r(t,a)}),t}},j=async(e,t)=>"function"==typeof t?t(e):t,P=async(e,t,r)=>{let[a,s,n,i]=await Promise.all([j(t,e.TOKEN),j(t,e.USERNAME),j(t,e.PASSWORD),j(t,e.HEADERS)]),o="function"==typeof(null==r?void 0:r.getHeaders)&&(null==r?void 0:r.getHeaders())||{},d=Object.entries({Accept:"application/json",...i,...t.headers,...o}).filter(e=>{let[t,r]=e;return w(r)}).reduce((e,t)=>{let[r,a]=t;return{...e,[r]:String(a)}},{});if(E(a)&&(d.Authorization="Bearer ".concat(a)),E(s)&&E(n)){let e=C("".concat(s,":").concat(n));d.Authorization="Basic ".concat(e)}return t.body&&(t.mediaType?d["Content-Type"]=t.mediaType:S(t.body)?d["Content-Type"]=t.body.type||"application/octet-stream":_(t.body)?d["Content-Type"]="text/plain":R(t.body)||(d["Content-Type"]="application/json")),d},N=e=>{if(e.body)return e.body},W=async(e,t,r,a,s,n,i,o)=>{let d=x.A.CancelToken.source(),l={url:r,headers:n,data:null!=a?a:s,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:d.token};i(()=>d.cancel("The user aborted a request."));try{return await o.request(l)}catch(e){if(e.response)return e.response;throw e}},D=(e,t)=>{if(t){let r=e.headers[t];if(_(r))return r}},B=e=>{if(204!==e.status)return e.data},F=(e,t)=>{let r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(r)throw new a(e,t,r);if(!t.ok){var s,n;let r=null!==(s=t.status)&&void 0!==s?s:"unknown",i=null!==(n=t.statusText)&&void 0!==n?n:"unknown",o=(()=>{try{return JSON.stringify(t.body,null,2)}catch(e){return}})();throw new a(e,t,"Generic Error: status: ".concat(r,"; status text: ").concat(i,"; body: ").concat(o))}},z=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.A;return new v(async(a,s,n)=>{try{let s=q(e,t),i=O(t),o=N(t),d=await P(e,t,i);if(!n.isCancelled){let l=await W(e,t,s,o,i,d,n,r),c=B(l),u=D(l,t.responseHeader),h={url:s,ok:A(l.status),status:l.status,statusText:l.statusText,body:null!=u?u:c};F(t,h),a(h.body)}}catch(e){s(e)}})};class U{static login(e){return z(p,{method:"POST",url:"/api/auth/api/auth/login",body:e,mediaType:"application/json",errors:{401:"Invalid credentials",500:"Internal server error"}})}static register(e){return z(p,{method:"POST",url:"/api/auth/api/auth/register",body:e,mediaType:"application/json",errors:{409:"User already exists",500:"Internal server error"}})}}class H{static getOverview(){return z(p,{method:"GET",url:"/api/query/overview",errors:{500:"Internal server error"}})}static listCurrentSets(){return z(p,{method:"GET",url:"/api/query/sets/current",errors:{500:"Internal server error"}})}static listReleasedSets(e){return z(p,{method:"GET",url:"/api/query/sets/released",query:{search:e},errors:{500:"Internal server error"}})}static listTobeSets(){return z(p,{method:"GET",url:"/api/query/sets/tobe",errors:{500:"Internal server error"}})}static getSet(e){return z(p,{method:"GET",url:"/api/query/sets/{id}",path:{id:e},errors:{404:"Set not found",500:"Internal server error"}})}static markAsTobe(e){return z(p,{method:"PUT",url:"/api/set/sets/tobe",body:e,mediaType:"application/json",errors:{500:"Internal server error"}})}static extractWordsFromImage(e){return z(p,{method:"POST",url:"/api/set/sets/words/extract/image",body:e,mediaType:"application/json",errors:{500:"Internal server error"}})}static extractWordsFromText(e){return z(p,{method:"POST",url:"/api/set/sets/words/extract/text",body:e,mediaType:"application/json",errors:{500:"Internal server error"}})}static saveWords(e){return z(p,{method:"POST",url:"/api/set/sets/words/save",body:e,mediaType:"application/json",errors:{500:"Internal server error"}})}static markAsCurrent(e){return z(p,{method:"PUT",url:"/api/set/sets/{id}/current",path:{id:e},errors:{500:"Internal server error"}})}static markAsFinished(e){return z(p,{method:"PUT",url:"/api/set/sets/{id}/finished",path:{id:e},errors:{500:"Internal server error"}})}}},3999:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},7168:(e,t,r)=>{r.d(t,{$:()=>d});var a=r(5155);r(2115);var s=r(4624),n=r(2085),i=r(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:n,asChild:d=!1,...l}=e,c=d?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:n,className:t})),...l})}},7296:(e,t,r)=>{r.d(t,{K:()=>n});var a=r(3682);a.Ds.BASE="http://localhost:8080",a.Ds.WITH_CREDENTIALS=!0,a.Ds.CREDENTIALS="include",a.Ds.HEADERS={"Content-Type":"application/json"};class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}async handleRequest(e){try{return await e()}catch(e){throw console.error("API request failed:",e),window.location.href="/login",Error("Unauthorized")}}async login(e,t){return this.handleRequest(()=>a.uR.login({login:e,password:t}))}async register(e,t){return this.handleRequest(()=>a.uR.register({login:e,password:t}))}async listTobeSets(){return this.handleRequest(()=>a.Zc.listTobeSets())}async listCurrentSets(){return this.handleRequest(()=>a.Zc.listCurrentSets())}async listReleasedWords(e){return this.handleRequest(()=>a.Zc.listReleasedSets(e))}async getSet(e){return this.handleRequest(()=>a.Zc.getSet(e))}async getOverview(){return this.handleRequest(()=>a.Zc.getOverview())}async markAsFinished(e){return this.handleRequest(()=>a.Zc.markAsFinished(e))}async markAsCurrent(e){return this.handleRequest(()=>a.Zc.markAsCurrent(e))}async markAsTobe(e){return this.handleRequest(()=>a.Zc.markAsTobe({word_ids:e}))}async extractWordsFromText(e){return this.handleRequest(()=>a.Zc.extractWordsFromText({text:e}))}async extractWordsFromImage(e){return this.handleRequest(()=>a.Zc.extractWordsFromImage({image_data:Array.from(e)}))}async saveWords(e){return this.handleRequest(()=>a.Zc.saveWords({words:e}))}constructor(){}}let n=s.getInstance()},8250:(e,t,r)=>{r.d(t,{Tj:()=>a,eV:()=>s,jP:()=>n});let a={card:{kanji:{bg:"bg-slate-100 dark:bg-slate-700",border:"border-slate-200 dark:border-slate-500",text:"text-slate-800 dark:text-slate-100",hint:"text-slate-1000 dark:text-slate-300",gradient:"bg-slate-100 dark:bg-slate-600"},hiragana:{bg:"bg-neutral-100 dark:bg-neutral-700",border:"border-neutral-200 dark:border-neutral-500",text:"text-neutral-800 dark:text-neutral-100",hint:"text-neutral-1000 dark:text-neutral-300",gradient:"bg-neutral-100 dark:bg-neutral-600"},translation:{bg:"bg-gray-100 dark:bg-zinc-700",border:"border-gray-200 dark:border-zinc-500",text:"text-gray-800 dark:text-zinc-100",hint:"text-gray-1000 dark:text-zinc-300",gradient:"bg-gray-100 dark:bg-zinc-600"}},audioButton:{hover:"hover:bg-slate-100 hover:bg-opacity-60 dark:hover:bg-gray-600 dark:hover:bg-opacity-60"},deck:{learned:{bg:"bg-emerald-50 dark:bg-gray-700",border:"border-emerald-100 dark:border-gray-500",text:"text-emerald-700 dark:text-emerald-300"},inProgress:{bg:"bg-amber-50 dark:bg-gray-700",border:"border-amber-100 dark:border-gray-500",text:"text-amber-700 dark:text-amber-300"},unlearned:{bg:"bg-slate-50 dark:bg-gray-700",border:"border-slate-200 dark:border-gray-500",text:"text-slate-600 dark:text-gray-300"},add:{bg:"bg-stone-50 dark:bg-gray-700",border:"border-stone-200 dark:border-gray-500",text:"text-stone-500 dark:text-gray-400"}},ui:{toolbar:{bg:"bg-white/95 dark:bg-gray-800/95",border:"border-b border-slate-200 dark:border-gray-600"},background:{main:"bg-slate-50 dark:bg-gray-800"},text:{default:"text-slate-800 dark:text-gray-200",secondary:"text-slate-600 dark:text-gray-400",primary:"text-slate-700 dark:text-gray-300",slate:"text-slate-700 dark:text-gray-300",blue:"text-slate-600 dark:text-gray-400",white:"text-white"},border:{default:"border-slate-200 dark:border-gray-600",dashed:"border-slate-300 dark:border-gray-500 border-dashed"},button:{primary:{bg:"bg-slate-700 dark:bg-gray-600",text:"text-white",hoverBg:"hover:bg-slate-800 dark:hover:bg-gray-500"},modeToggle:{activeBg:"bg-slate-200 dark:bg-gray-600",activeText:"text-slate-800 dark:text-gray-200",inactiveBg:"bg-slate-100 dark:bg-gray-700",inactiveText:"text-slate-600 dark:text-gray-400",inactiveHoverBg:"hover:bg-slate-150 dark:hover:bg-gray-650"}},icon:{default:"text-slate-500 dark:text-gray-400"},pagination:{active:"bg-slate-300 dark:bg-gray-600",inactive:"bg-slate-150 dark:bg-gray-700",hover:"hover:bg-slate-200 dark:hover:bg-gray-650"}}},s=()=>a.audioButton.hover,n=e=>{let t=a.card[e];return{bgColor:t.bg,borderColor:t.border,color:t.text,hintColor:t.hint,gradientBgColor:t.gradient}}},9852:(e,t,r)=>{r.d(t,{p:()=>d});var a=r(5155),s=r(2115),n=r(2085),i=r(3999);let o=(0,n.F)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-input",error:"border-destructive focus-visible:ring-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,error:n,type:d,...l}=e;return(0,a.jsx)("input",{type:d,className:(0,i.cn)(o({variant:n?"error":s,className:r})),ref:t,...l})});d.displayName="Input"}}]);